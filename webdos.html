<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DOSBox in Browser (ZIP + ISO Mount)</title>
  <script src="https://js-dos.com/v8/current/js-dos-api.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      height: 100%;
      font-family: monospace;
      display: flex;
      flex-direction: column;
    }
    #controls {
      background: #222;
      padding: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      z-index: 2;
    }
    #controls input, #controls button {
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MS-DOS 6.22 Boot (PCjs)</title>
  <script src="https://pcjs.org/distrib/pcjs.js"></script>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: black;
    }
    #pcjs-container {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="pcjs-container"></div>

  <script>
    window.PCJSMachines = {
      "pc": {
        "class": "PCx86",
        "id": "pc",
        "container": "pcjs-container",
        "url": "msdos_blankhd.json",
        "autostart": true
      }
    };
  </script>
</body>
</html>

r:", e),
      });

      emulator.events.on("ready", async () => {
        const lower = file.name.toLowerCase();

        if (lower.endsWith(".zip")) {
          await emulator.fs.extract(file);
          emulator.sendCommand("mount c .");
          emulator.sendCommand("c:");
          emulator.sendCommand("dir");
          emulator.sendCommand("echo ZIP extracted to C:");
        } else if (lower.endsWith(".iso") || lower.endsWith(".img")) {
          await emulator.fs.createFile(file.name, file);
          emulator.sendCommand(`imgmount d ${file.name} -t iso`);
          emulator.sendCommand("d:");
          emulator.sendCommand("dir");
          emulator.sendCommand("echo ISO mounted to D:");
        } else {
          emulator.sendCommand("echo Unsupported file type.");
        }
      });

      emulator.start();
    });
  </script>
</body>
</html>
